<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core">

<h:head>
	<ui:insert name="header">
		<ui:include src="/WEB-INF/template.xhtml" />
	</ui:insert>
	<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css"></link>
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css"></link>
		 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		 <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script> -->
		 <link rel="stylesheet" href="bootstrap.min.css"></link>
		 
		  <link rel="stylesheet" href="screen.css"></link>
		  <link rel="stylesheet" href="primeicons.css"></link>
</h:head>
<h:body class="body">

	<br />
	<h:form id="form" class="content mr-10px">
		<p:growl id="msgs" showDetail="true" />

		<div>
			<p:outputLabel for="date" value="Date :" />
			<p:calendar id="date" value="#{addRowPointage.date1}" locale="de"
				navigator="true" pattern="yyyy-MM-dd">
				<p:ajax event="dateSelect" listener="#{addRowPointage.onDateSelect}" />

			</p:calendar>
		</div>
		<br></br>



		<p:dataTable class="table" id="point" widgetVar="pointages" var="pointage"
			value="#{addRowPointage.pointages}" editable="true"
			style="margin-bottom:10px">

			<p:ajax event="rowEdit" listener="#{addRowPointage.onRowEdit}"
				update=":form:msgs" />
			<p:ajax event="rowEditCancel"
				listener="#{addRowPointage.onRowCancel}" update=":form:msgs" />


			<p:column headerText="Affaire" style="width:180px" font="color:black">
				<p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{pointage.affaires.id_Affaire}" />
					</f:facet>
					<f:facet name="input">
						<h:selectOneMenu value="#{addRowPointage.idAffaire}"
							style="width:100%">
							<f:selectItems value="#{addRowPointage.lists}" var="Affaire"
								itemLabel="#{Affaire}" itemValue="#{Affaire}" font="color:black" required="true" />
						</h:selectOneMenu>
					</f:facet>
				</p:cellEditor>
			</p:column>


			<p:column headerText="Lun #{addRowPointage.daysOfWeek[0]}"
				style="width:auto">

				<p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{pointage.j1}" />
					</f:facet>
					<f:facet name="input">
						<p:inputText id="j1" value="#{pointage.j1}" />
					</f:facet>
				</p:cellEditor>
			</p:column>

			<p:column headerText="Mar #{addRowPointage.daysOfWeek[1]}"
				style="width:auto">
				<p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{pointage.j2}" />
					</f:facet>
					<f:facet name="input">
						<p:inputText id="j2" value="#{pointage.j2}" />
					</f:facet>
				</p:cellEditor>
			</p:column>

			<p:column headerText="Mer #{addRowPointage.daysOfWeek[2]}"
				style="width:auto">
				<p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{pointage.j3}" />
					</f:facet>
					<f:facet name="input">
						<p:inputText id="j3" value="#{pointage.j3}" />
					</f:facet>
				</p:cellEditor>
			</p:column>

			<p:column headerText="Jeu #{addRowPointage.daysOfWeek[3]}"
				style="width:auto">
				<p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{pointage.j4}" />
					</f:facet>
					<f:facet name="input">
						<p:inputText id="j4" value="#{pointage.j4}" />
					</f:facet>
				</p:cellEditor>
			</p:column>

			<p:column headerText="Ven #{addRowPointage.daysOfWeek[4]}"
				style="width:auto">
				<p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{pointage.j5}" />
					</f:facet>
					<f:facet name="input">
						<p:inputText id="j5" value="#{pointage.j5}" />
					</f:facet>
				</p:cellEditor>
			</p:column>

			<p:column headerText="Sam #{addRowPointage.daysOfWeek[5]}"
				style="width:auto">
				<p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{pointage.j6}" />
					</f:facet>
					<f:facet name="input">
						<p:inputText id="j6" value="#{pointage.j6}" />
					</f:facet>
				</p:cellEditor>
			</p:column>

			<p:column headerText="Dim #{addRowPointage.daysOfWeek[6]}"
				style="width:auto">
				<p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{pointage.j7}" />
					</f:facet>
					<f:facet name="input">
						<p:inputText id="j7" value="#{pointage.j7}" />
					</f:facet>
				</p:cellEditor>
			</p:column>


			<p:column style="width:20px">
				<p:rowEditor />
			</p:column>
			<p:column style="width:20px">
				<p:commandLink ajax="true"
					action="#{addRowPointage.DeleteRow(pointage)}">
					<span title="Remove" class="ui-icon ui-icon-trash" />
					<p:confirm header="Confirmation" message="Are you sure?"
						icon="pi pi-exclamation-triangle" />
				</p:commandLink>
				<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
					<p:commandButton value="Yes" type="button"
						styleClass="ui-confirmdialog-yes" icon="pi pi-check" />
					<p:commandButton value="No" type="button"
						styleClass="ui-confirmdialog-no" icon="pi pi-times" />
				</p:confirmDialog>

			</p:column>

		</p:dataTable>

		<div>
			<div>
				<b:commandButton  class="btn btn-success btn-sm" icon="pi pi-puls"
					value="Ajouter ligne" render="point" update=":form:msgs"
					action="#{addRowPointage.onAddNew}"
					oncomplete="PF('pointages').addRow();" />
			</div>
		</div>

	</h:form>
</h:body>
</html>